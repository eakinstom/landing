<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Eakinstom International Ltd.</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white">
  <div id="root"></div>

  <!-- React + ReactDOM + Babel -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <!-- Supabase JS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <script type="text/babel">
    // üîê Supabase creds (ok to expose anon because RLS only allows INSERT on this table)
    const SUPABASE_URL = "https://rdtfqruyckzgwrzktkaa.supabase.co";
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJkdGZxcnV5Y2t6Z3dyemt0a2FhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0NTc1MTcsImV4cCI6MjA3MjAzMzUxN30.EM15Q8XvGrfvSkmHe2C3cibv20PYC4dNhJPpK5oJ2LY";
    const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    // Small alert component
    function Alert({ type = "info", children, onClose }) {
      const styles = {
        success: "bg-emerald-50 border-emerald-200 text-emerald-800",
        error:   "bg-red-50 border-red-200 text-red-800",
        info:    "bg-gray-50 border-gray-200 text-gray-700",
      }[type] || "bg-gray-50 border-gray-200 text-gray-700";

      const icon = {
        success: "‚úîÔ∏è",
        error: "‚ö†Ô∏è",
        info: "‚ÑπÔ∏è",
      }[type] || "‚ÑπÔ∏è";

      return (
        <div role="alert" className={`rounded-xl border px-4 py-3 flex items-start gap-3 ${styles}`}>
          <div className="text-lg leading-none">{icon}</div>
          <div className="text-sm">{children}</div>
          {onClose && (
            <button onClick={onClose} className="ml-auto text-sm opacity-70 hover:opacity-100">‚úï</button>
          )}
        </div>
      );
    }

    // Friendlier messages for common Supabase/Postgres errors
    function translateSupabaseError(error) {
      if (!error) return "We couldn‚Äôt submit your inquiry right now.";
      const msg = (error.message || "").toLowerCase();
      const code = error.code;

      if (code === "23505" || msg.includes("duplicate key value")) {
        return "This email has already submitted an inquiry. If you need to update details, please reach us via emai - bode.moyosade@eakinstom.com.";
      }
      if (msg.includes("row-level security") || code === "42501") {
        return "Your request was blocked by security rules. Please contact the site admin to enable inserts for this form.";
      }
      if (code === "401" || msg.includes("jwt")) {
        return "Authentication failed. Check the public (anon) key in the page configuration.";
      }
      if (code === "42P01" || msg.includes("relation") && msg.includes("does not exist")) {
        return "Server table not found. Confirm the table name is public.inquiries.";
      }
      if (code === "22P02") {
        return "Invalid data format. Please check your inputs and try again.";
      }
      // Default
      return "We couldn‚Äôt submit your inquiry right now. Please try again in a moment.";
    }

    function App() {
      const [notice, setNotice] = React.useState(null); // {type:'success'|'error'|'info', text:string}
      const [loading, setLoading] = React.useState(false);

      const handleSubmit = async (e) => {
        e.preventDefault(); // stay on page
        const form = e.target;

        // bot trap
        if (form.website.value) return;

        const payload = {
          full_name: form.full_name.value.trim(),
          email: form.email.value.trim(),
          company: form.company.value.trim(),
          product: form.product.value,
          incoterms: form.incoterms.value,
          message: form.message.value.trim(),
        };

        if (!payload.full_name || !payload.email || !payload.message) {
          setNotice({ type: "error", text: "Please fill your name, email and message." });
          return;
        }

        try {
          setLoading(true);
          setNotice(null);

          // Insert and fetch id (helps debugging)
          const { data, error } = await supabase
            .from("inquiries")
            .insert(payload)
            .select("id")
            .single();

          if (error) {
            console.error("Supabase insert error:", error);
            setNotice({ type: "error", text: translateSupabaseError(error) });
            return;
          }

          // ‚úÖ Success: clear form + show pretty success box
          form.reset();
          setNotice({ type: "success", text: "Thanks! Your inquiry has been recorded. We‚Äôll get back to you shortly." });
        } catch (err) {
          console.error("Unexpected error:", err);
          setNotice({ type: "error", text: "Unexpected error. Please try again." });
        } finally {
          setLoading(false);
        }
      };

      return (
        <div className="min-h-screen bg-white text-gray-800">
          {/* Top Bar */}
          <header className="sticky top-0 z-40 bg-white/80 backdrop-blur border-b">
            <div className="mx-auto max-w-7xl px-4 py-3 flex items-center justify-between">
              <a href="#home" className="flex items-center gap-2">
                <span className="inline-flex h-9 w-9 items-center justify-center rounded-xl bg-emerald-600 text-white font-bold">EI</span>
                <div>
                  <p className="font-semibold leading-tight">Eakinstom International Ltd.</p>
                  <p className="text-xs text-gray-500 -mt-1">Agric Export ‚Ä¢ Nigeria</p>
                </div>
              </a>
              <nav className="hidden md:flex items-center gap-6 text-sm">
                <a href="#about" className="hover:text-emerald-700">About</a>
                <a href="#products" className="hover:text-emerald-700">Products</a>
                <a href="#standards" className="hover:text-emerald-700">Quality</a>
                <a href="#partnerships" className="hover:text-emerald-700">Partnerships</a>
                <a href="#contact" className="hover:text-emerald-700">Contact</a>
              </nav>
              <a href="#contact" className="hidden md:inline-flex rounded-2xl bg-emerald-600 px-4 py-2 text-white font-medium shadow hover:bg-emerald-700">Request a Quote</a>
            </div>
          </header>

          {/* Hero */}
          <section id="home" className="relative overflow-hidden">
            <div className="absolute inset-0 -z-10 bg-gradient-to-br from-emerald-50 via-white to-amber-50" />
            <div className="mx-auto max-w-7xl px-4 py-20 grid md:grid-cols-2 gap-8 items-center">
              <div>
                <h1 className="text-3xl md:text-5xl font-extrabold leading-tight text-gray-900">
                  Premium Nigerian <span className="text-emerald-700">Cashew</span>, <span className="text-amber-700">Sesame</span> &amp; More ‚Äî
                  Exported with Care.
                </h1>
                <p className="mt-4 text-gray-600 max-w-prose">
                  Eakinstom International Limited is an agricultural exports company focused on sourcing, processing, and shipping
                  high-quality commodities including raw cashew nuts, sesame seed, and other specialty crops. We deliver reliable
                  volumes, compliant documentation, and consistent quality for global buyers.
                </p>
                <div className="mt-6 flex flex-wrap gap-3">
                  <a href="#products" className="rounded-2xl bg-gray-900 px-5 py-3 text-white font-medium shadow hover:bg-gray-800">Explore Products</a>
                  <a href="#contact" className="rounded-2xl border border-gray-300 px-5 py-3 font-medium hover:border-gray-400">Get a Quote</a>
                </div>
                <div className="mt-6 flex items-center gap-6 text-sm text-gray-600">
                  <div className="flex items-center gap-2"><span>üì¶</span> FOB / CIF / CFR</div>
                  <div className="flex items-center gap-2"><span>üßæ</span> NEPC ‚Ä¢ Phyto ‚Ä¢ SGS</div>
                  <div className="flex items-center gap-2"><span>‚õ¥Ô∏è</span> Lagos &amp; Onne Ports</div>
                </div>
              </div>
              <div className="relative">
                <div className="aspect-[4/3] rounded-3xl border bg-white shadow-sm p-4 grid grid-cols-2 gap-4">
                  <div className="rounded-2xl bg-amber-100 border flex items-center justify-center text-amber-900 font-semibold">
                    <figure className="relative overflow-hidden rounded-2xl">
                      <img
                        src="./images/cashew.jpg"
                        alt="Raw cashew nuts"
                        className="w-full h-full object-cover aspect-square"
                        loading="lazy"
                      />
                      <figcaption className="absolute inset-x-0 bottom-0 bg-black/40 text-white text-sm font-medium p-2 text-center">
                        Cashew Nuts
                      </figcaption>
                    </figure>


                  </div>
                  <div className="rounded-2xl bg-emerald-100 border flex items-center justify-center text-emerald-900 font-semibold">Sesame Seed</div>
                  <div className="rounded-2xl bg-lime-100 border flex items-center justify-center text-lime-900 font-semibold">Ginger (DR/Spl.)</div>
                  <div className="rounded-2xl bg-stone-100 border flex items-center justify-center text-stone-900 font-semibold">Charcoal (BBQ)</div>
                </div>
                <p className="text-xs text-gray-500 mt-2 text-center">*Illustrative product tiles ‚Äì replace with photos later.</p>
              </div>
            </div>
          </section>

          {/* About */}
          <section id="about" className="mx-auto max-w-7xl px-4 py-16">
            <div className="grid md:grid-cols-2 gap-10 items-start">
              <div>
                <h2 className="text-2xl md:text-3xl font-bold">Who We Are</h2>
                <p className="mt-4 text-gray-600">
                  We partner directly with farm clusters and certified aggregators across key Nigerian producing states. Our team
                  manages end-to-end export operations ‚Äî from quality checks and grading to logistics and documentation ‚Äî so your
                  shipment arrives as promised.
                </p>
                <ul className="mt-6 space-y-2 text-gray-700">
                  <li>‚Ä¢ Traceable sourcing and pre-shipment inspection</li>
                  <li>‚Ä¢ Flexible contracts: spot, forward, seasonal</li>
                  <li>‚Ä¢ Export documentation support and bankable contracts</li>
                </ul>
              </div>
              <div className="rounded-3xl border bg-white shadow-sm p-6">
                <h3 className="font-semibold text-lg">Fast Facts</h3>
                <dl className="mt-4 grid grid-cols-2 gap-4 text-sm">
                  <div className="rounded-2xl bg-gray-50 p-4 border">
                    <dt className="text-gray-500">Core Commodities</dt>
                    <dd className="font-medium">Raw Cashew, Sesame</dd>
                  </div>
                  <div className="rounded-2xl bg-gray-50 p-4 border">
                    <dt className="text-gray-500">Packaging</dt>
                    <dd className="font-medium">Jute/PP ‚Äì 50/80kg</dd>
                  </div>
                  <div className="rounded-2xl bg-gray-50 p-4 border">
                    <dt className="text-gray-500">Payment</dt>
                    <dd className="font-medium">LC, TT, CAD</dd>
                  </div>
                  <div className="rounded-2xl bg-gray-50 p-4 border">
                    <dt className="text-gray-500">Shipment</dt>
                    <dd className="font-medium">20'/40' FCL</dd>
                  </div>
                </dl>
              </div>
            </div>
          </section>

          {/* Products */}
          <section id="products" className="bg-gray-50 border-y">
            <div className="mx-auto max-w-7xl px-4 py-16">
              <div className="flex items-end justify-between">
                <h2 className="text-2xl md:text-3xl font-bold">Export Products</h2>
                <a href="#contact" className="text-sm font-medium underline underline-offset-4">Request specs &amp; pricing</a>
              </div>

              <div className="mt-8 grid md:grid-cols-3 gap-6">
                <article className="rounded-3xl bg-white border shadow-sm p-6">
                  <h3 className="font-semibold text-lg">Raw Cashew Nuts (RCN)</h3>
                  <p className="mt-2 text-sm text-gray-600">High out-turn Nigerian RCN, uniform grading, moisture-controlled.</p>
                  <ul className="mt-3 text-sm text-gray-700 space-y-1">
                    <li>‚Ä¢ KOR: 46‚Äì52</li>
                    <li>‚Ä¢ Moisture: ‚â§10%</li>
                    <li>‚Ä¢ Foreign Matter: ‚â§2%</li>
                  </ul>
                </article>

                <article className="rounded-3xl bg-white border shadow-sm p-6">
                  <h3 className="font-semibold text-lg">Sesame Seed</h3>
                  <p className="mt-2 text-sm text-gray-600">White &amp; mixed varieties; cleaned for export with lab reports.</p>
                  <ul className="mt-3 text-sm text-gray-700 space-y-1">
                    <li>‚Ä¢ Purity: 98‚Äì99.5%</li>
                    <li>‚Ä¢ Oil Content: 48‚Äì52%</li>
                    <li>‚Ä¢ Moisture: ‚â§7%</li>
                  </ul>
                </article>

                <article className="rounded-3xl bg-white border shadow-sm p-6">
                  <h3 className="font-semibold text-lg">Other Lines (on request)</h3>
                  <p className="mt-2 text-sm text-gray-600">Ginger (split/dry), shea nuts, hibiscus flower, and BBQ charcoal.</p>
                  <ul className="mt-3 text-sm text-gray-700 space-y-1">
                    <li>‚Ä¢ Competitive lead times</li>
                    <li>‚Ä¢ SGS/Intertek inspection possible</li>
                    <li>‚Ä¢ Custom specs available</li>
                  </ul>
                </article>
              </div>
            </div>
          </section>

          {/* Quality & Certifications */}
          <section id="standards" className="mx-auto max-w-7xl px-4 py-16">
            <div className="grid md:grid-cols-2 gap-10 items-center">
              <div>
                <h2 className="text-2xl md:text-3xl font-bold">Quality, Compliance &amp; Documentation</h2>
                <p className="mt-4 text-gray-600">We operate with strict pre-shipment checks and documented SOPs. Third-party inspection and lab testing available on request.</p>
                <ul className="mt-6 grid sm:grid-cols-2 gap-3 text-sm">
                  <li className="rounded-2xl border p-4 bg-gray-50">NEPC Export License</li>
                  <li className="rounded-2xl border p-4 bg-gray-50">Phytosanitary Certificate</li>
                  <li className="rounded-2xl border p-4 bg-gray-50">Fumigation Certificate</li>
                  <li className="rounded-2xl border p-4 bg-gray-50">SGS/Intertek Reports</li>
                </ul>
              </div>
              <div className="rounded-3xl border bg-white shadow-sm p-6">
                <h3 className="font-semibold text-lg">Typical Export Documents</h3>
                <ol className="mt-4 list-decimal ml-5 text-sm text-gray-700 space-y-1">
                  <li>Commercial Invoice &amp; Packing List</li>
                  <li>Bill of Lading / Telex Release</li>
                  <li>Certificate of Origin</li>
                  <li>Quality &amp; Weight Certificates</li>
                </ol>
                <p className="mt-4 text-xs text-gray-500">*Exact set varies by destination and contract terms.</p>
              </div>
            </div>
          </section>

          {/* Partnerships */}
          <section id="partnerships" className="bg-emerald-50 border-y">
            <div className="mx-auto max-w-7xl px-4 py-16">
              <h2 className="text-2xl md:text-3xl font-bold">Strategic Partnerships</h2>
              <p className="mt-4 text-gray-700 max-w-prose">
                We collaborate with industry partners to strengthen R&amp;D, input quality, and farm-level support. We are proud to be
                in partnership with <span className="font-semibold">AKRSM Agroscience</span> to improve agronomic practices and
                supply reliability across our value chains.
              </p>

              <div className="mt-8 grid sm:grid-cols-2 gap-6">
                <div className="rounded-3xl bg-white border shadow-sm p-6 flex items-center gap-4">
                  <div className="h-12 w-12 rounded-xl bg-emerald-600 text-white grid place-items-center font-bold">AK</div>
                  <div>
                    <p className="font-semibold">AKRSM Agroscience</p>
                    <p className="text-sm text-gray-600">Field extension, agronomy support &amp; input quality.</p>
                  </div>
                </div>
                <div className="rounded-3xl bg-white border shadow-sm p-6 flex items-center gap-4">
                  <div className="h-12 w-12 rounded-xl bg-gray-900 text-white grid place-items-center font-bold">LG</div>
                  <div>
                    <p className="font-semibold">Logistics &amp; Inspection</p>
                    <p className="text-sm text-gray-600">Port handling, freight forwarding &amp; third-party inspection.</p>
                  </div>
                </div>
              </div>
            </div>
          </section>

          {/* Contact (wired to Supabase) */}
          <section id="contact" className="mx-auto max-w-7xl px-4 py-16">
            <div className="grid md:grid-cols-2 gap-10 items-start">
              <div>
                <h2 className="text-2xl md:text-3xl font-bold">Request a Quote / Contact</h2>
                <p className="mt-4 text-gray-600">Tell us your destination port, target specs, and preferred incoterms. We'll reply with availability and pricing.</p>
                <div className="mt-6 space-y-2 text-sm text-gray-700">
                  <p><span className="font-medium">Email:</span> bode.moyosade@eakinstom.com</p>
                  <p><span className="font-medium">Phone/WhatsApp:</span> +234-803-774-5054</p>
                  <p><span className="font-medium">Office:</span> Lagos, Nigeria</p>
                </div>

                {/* Status box goes here */}
                {notice && (
                  <div className="mt-6">
                    <Alert type={notice.type} onClose={() => setNotice(null)}>
                      {notice.text}
                    </Alert>
                  </div>
                )}
              </div>

              <form id="inquiry-form" onSubmit={handleSubmit} className="rounded-3xl border bg-white shadow-sm p-6 space-y-4">
                {/* Honeypot against bots */}
                <div className="hidden">
                  <label>Leave this empty</label>
                  <input type="text" id="website" name="website" className="mt-1 w-full rounded-xl border px-3 py-2" />
                </div>

                <div>
                  <label className="block text-sm font-medium">Full Name</label>
                  <input id="full_name" name="full_name" type="text" required className="mt-1 w-full rounded-xl border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-600" placeholder="Your name" />
                </div>
                <div className="grid sm:grid-cols-2 gap-4">
                  <div>
                    <label className="block text-sm font-medium">Email</label>
                    <input id="email" name="email" type="email" required className="mt-1 w-full rounded-xl border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-600" placeholder="you@company.com" />
                  </div>
                  <div>
                    <label className="block text-sm font-medium">Company</label>
                    <input id="company" name="company" type="text" className="mt-1 w-full rounded-xl border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-600" placeholder="Company name" />
                  </div>
                </div>
                <div className="grid sm:grid-cols-2 gap-4">
                  <div>
                    <label className="block text-sm font-medium">Product</label>
                    <select id="product" name="product" className="mt-1 w-full rounded-xl border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-600">
                      <option>Raw Cashew Nuts (RCN)</option>
                      <option>Sesame Seed</option>
                      <option>Ginger (Split/Dry)</option>
                      <option>Other (specify below)</option>
                    </select>
                  </div>
                  <div>
                    <label className="block text-sm font-medium">Incoterms</label>
                    <select id="incoterms" name="incoterms" className="mt-1 w-full rounded-xl border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-600">
                      <option>FOB</option>
                      <option>CIF</option>
                      <option>CFR</option>
                    </select>
                  </div>
                </div>
                <div>
                  <label className="block text-sm font-medium">Message / Specs</label>
                  <textarea id="message" name="message" rows="4" required className="mt-1 w-full rounded-xl border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-600" placeholder="Destination port, quantity (MT), quality specs, timeline‚Ä¶"></textarea>
                </div>

                <button
                  id="submit-btn"
                  type="submit"
                  disabled={loading}
                  className={`w-full rounded-2xl px-5 py-3 text-white font-medium shadow
                    ${loading ? "bg-emerald-400 cursor-not-allowed" : "bg-emerald-600 hover:bg-emerald-700"}`}
                >
                  {loading ? "Sending‚Ä¶" : "Send Inquiry"}
                </button>
              </form>
            </div>
          </section>

          {/* Footer */}
          <footer className="border-t">
            <div className="mx-auto max-w-7xl px-4 py-8 flex flex-col md:flex-row items-center justify-between gap-4 text-sm text-gray-600">
              <p>¬© {new Date().getFullYear()} Eakinstom International Limited. All rights reserved.</p>
              <div className="flex items-center gap-6">
                <a href="#about" className="hover:text-emerald-700">About</a>
                <a href="#products" className="hover:text-emerald-700">Products</a>
                <a href="#contact" className="hover:text-emerald-700">Contact</a>
              </div>
            </div>
          </footer>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<App />);
  </script>
</body>
</html>
